<!DOCTYPE html>
<html>
  <head>
    <title>Zoko</title>
    <link href="css/style.css" rel="stylesheet" />
  </head>
  <body>
    <h1>Zoko</h1>
    <canvas id="zoko" height="400" width="700"></canvas>
  </body>
  <script src="js/zepto.min.js"></script>
  <script src="js/zoko.js"></script>
  <script>
    window.onload = function() {
      canvas = document.getElementById('zoko');
      e3d.init(canvas);
      
      levelState = new LevelState(levels.test);
      levelView = new LevelView();
      
      //levelState.observerList = [levelView];
      //levelState.notifyObservers();

      levelView.update(levelState);


      /*pyramid = [
        //  Position    TexCoord     Color
        //  x,  y,  z,   s,   t,    r, g, b
            0,  0,  1,   0.5, 0.0,  1, 0, 0,
           -1,  1, -1,   0.0, 1.0,  0, 1, 0,
           -1, -1, -1,   1.0, 1.0,  0, 0, 1,
            
            0,  0,  1,   0.5, 0.0,  1, 0, 0,
            1, -1, -1,   0.0, 1.0,  0, 1, 0,
            1,  1, -1,   1.0, 1.0,  0, 0, 1,
            
            0,  0,  1,   0.5, 0.0,  1, 0, 0,
           -1, -1, -1,   0.0, 1.0,  0, 1, 0,
            1, -1, -1,   1.0, 1.0,  0, 0, 1,
            
            0,  0,  1,   0.5, 0.0,  1, 0, 0,
            1,  1, -1,   0.0, 1.0,  0, 1, 0,
           -1,  1, -1,   1.0, 1.0,  0, 0, 1
      ];
      
      mesh = new e3d.Mesh(pyramid);
      
      object = new e3d.Object;
      object.meshes = [mesh];
      
      camera = new e3d.Camera;
      camera.position = [0,0,0];
      camera.distance = 8
      
      scene = new e3d.Scene;
      scene.camera = camera;
      scene.objects = [object];
      
      e3d.scene = scene;*/
      
      
      e3d.onrender = function () {
        if ( e3d.scene !== null ) {
          camera = e3d.scene.camera;
          camera.rotation = vec.add(camera.rotation, [0.0, 0.0, 0.007]);
        }
      };
      
      e3d.run();
    }
  </script>
</html>