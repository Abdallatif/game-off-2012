<!DOCTYPE html>
<html>
  <head>
    <title>Zoko</title>
    <link href="css/style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container">
      <h1>ZOKO</h1>
      <canvas id="zoko" height="400" width="780"></canvas>
    </div>
  </body>
  <script src="js/zepto.min.js"></script>
  <script src="js/zoko.js"></script>
  <script>
    window.onload = function() {
      canvas = document.getElementById('zoko');
      e3d.init(canvas);

      loadJsonFile('lev/03.json', function (level) {
        levelView = new LevelView();
        levelState = new LevelState(level);
        levelState.observers = [levelView];
        levelState.notifyObservers();
        new KeyboardController(levelState);
      });

      e3d.onrender = function () {
        if ( e3d.scene !== null ) {
          camera = e3d.scene.camera;
          // camera.rotation = vec.add(camera.rotation, [0.0, 0.0, 0.007]);
        }
      };


      e3d.run();
    }
  </script>
</html>